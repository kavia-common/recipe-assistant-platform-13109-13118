{"is_source_file": true, "format": "JavaScript", "description": "This file implements a ChatService module that manages a WebSocket connection to a chatbot backend, providing functions for connection handling, message sending, and event subscription.", "external_files": ["../config", "../utils/http"], "external_methods": ["resolveWebSocketUrl", "getToken"], "published": ["createChatService"], "classes": [], "methods": [{"name": "createChatService(path = \"/ws/chat\")", "description": "Factory function that creates and manages a WebSocket connection object with event handling, reconnection logic, and message APIs.", "scope": "", "scopeKind": ""}, {"name": "buildUrl()", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "connect()", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "disconnect()", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "emit(type, payload)", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "getStatus()", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "onClose(cb)", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "onError(cb)", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "onMessage(cb)", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "onOpen(cb)", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "onStatus(cb)", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "scheduleReconnect()", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "sendRaw(data)", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "sendUserMessage(text, metadata = {})", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}, {"name": "setStatus(next)", "scope": "createChatService", "scopeKind": "function", "description": "unavailable"}], "calls": ["resolveWebSocketUrl", "getToken", "new URL", "WebSocket", "setTimeout", "clearTimeout"], "search-terms": ["WebSocket connection management", "chat backend", "reconnection logic", "event emitter", "sendUserMessage", "connection status"], "state": 2, "file_id": 35, "knowledge_revision": 87, "git_revision": "", "ctags": [{"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function buildUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "close", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^    close: new Set(),$/", "language": "JavaScript", "kind": "property", "scope": "createChatService.listeners", "scopeKind": "class"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function connect() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "createChatService", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^export function createChatService(path = \"\\/ws\\/chat\") {$/", "language": "JavaScript", "kind": "function", "signature": "(path = \"/ws/chat\")"}, {"_type": "tag", "name": "disconnect", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function disconnect() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "emit", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function emit(type, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(type, payload)", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^    error: new Set(),$/", "language": "JavaScript", "kind": "property", "scope": "createChatService.listeners", "scopeKind": "class"}, {"_type": "tag", "name": "getStatus", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function getStatus() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "listeners", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  const listeners = {$/", "language": "JavaScript", "kind": "class", "scope": "createChatService", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^    message: new Set(), \\/\\/ receives parsed message objects or raw strings$/", "language": "JavaScript", "kind": "property", "scope": "createChatService.listeners", "scopeKind": "class"}, {"_type": "tag", "name": "onClose", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function onClose(cb) {$/", "language": "JavaScript", "kind": "function", "signature": "(cb)", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "onError", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function onError(cb) {$/", "language": "JavaScript", "kind": "function", "signature": "(cb)", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "onMessage", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function onMessage(cb) {$/", "language": "JavaScript", "kind": "function", "signature": "(cb)", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "onOpen", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function onOpen(cb) {$/", "language": "JavaScript", "kind": "function", "signature": "(cb)", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "onStatus", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function onStatus(cb) {$/", "language": "JavaScript", "kind": "function", "signature": "(cb)", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "open", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^    open: new Set(),$/", "language": "JavaScript", "kind": "property", "scope": "createChatService.listeners", "scopeKind": "class"}, {"_type": "tag", "name": "scheduleReconnect", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function scheduleReconnect() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "sendRaw", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function sendRaw(data) {$/", "language": "JavaScript", "kind": "function", "signature": "(data)", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "sendUserMessage", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function sendUserMessage(text, metadata = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(text, metadata = {})", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "setStatus", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^  function setStatus(next) {$/", "language": "JavaScript", "kind": "function", "signature": "(next)", "scope": "createChatService", "scopeKind": "function"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/recipe-assistant-platform-13109-13118/recipe_frontend/src/services/chatService.js", "pattern": "/^    status: new Set(), \\/\\/ receives status changes$/", "language": "JavaScript", "kind": "property", "scope": "createChatService.listeners", "scopeKind": "class"}], "hash": "b4ecf87d375f251a94dd99a206eb771e", "format-version": 4, "code-base-name": "recipe_frontend", "filename": "recipe_frontend/src/services/chatService.js", "fields": [{"name": "close: new Set(),", "scope": "createChatService.listeners", "scopeKind": "class", "description": "unavailable"}, {"name": "error: new Set(),", "scope": "createChatService.listeners", "scopeKind": "class", "description": "unavailable"}, {"name": "message: new Set(), \\/\\/ receives parsed message objects or raw strings", "scope": "createChatService.listeners", "scopeKind": "class", "description": "unavailable"}, {"name": "open: new Set(),", "scope": "createChatService.listeners", "scopeKind": "class", "description": "unavailable"}, {"name": "status: new Set(), \\/\\/ receives status changes", "scope": "createChatService.listeners", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"87": ""}]}